modules:
  - type: dnf
    repos:
      cleanup: true
      copr:
        - atim/starship
    install:
      packages:
        - fish
        - starship

  - type: dnf
    repos:
      cleanup: true
      copr:
        - yalter/niri-git
        - avengemedia/dms-git
        - avengemedia/danklinux
    #install-weak-deps: false
    install:
      packages:
        - repo: copr:copr.fedorainfracloud.org:yalter:niri-git
          packages:
           - niri
        - dms
        - dms-cli
        - dms-greeter
        - dgop
        - fcitx5-configtool
        - fcitx5-mozc
        - fcitx5-chinese-addons
        - fcitx5-hangul
        - kcm-fcitx5
        - quickshell-git
        - wl-clipboard
        - xwayland-satellite

  - type: dnf # adds qt6 things
    repos:
      cleanup: true
    install:
      install-weak-deps: false
      packages:
        - kf6-kirigami
        - qt6ct
        - polkit-kde
        - plasma-breeze
        - kf6-qqc2-desktop-style

  # copying system files over to the system
  - type: files
    files:
      - source: system
        destination: /

  - type: systemd
    user:
        enabled:
            - dms.service
            - cliphist.service
            - xwayland-satellite.service
